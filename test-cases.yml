---
- summary: |
    Успешная регистрация через GitHub
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться через учетную запись GitHub
  prerequisites: |
    Пользователь зарегистрирован на github.com
  test-data: |
    Нет данных
  steps:
    - Открыть страницу регистрации Sign Up
    - Выбрать Sign in with Github
  expected-result: |
    Пользователь успешно зарегистрирован

- summary: |
    Успешная регистрация через e-mail
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться через e-mail
  prerequisites: |
    Пользователь имеет зарегистрированную электронную почту 
  test-data: |
    Нет данных
  steps:
    - Открыть страницу регистрации Sign Up
    - Ввести Nickname, например "Hakuna_Matata23"
    - Ввести Email, например valmur83@mail.ru
    - Вести Password, например uurwq6Hm@Z.GHBN
    - Ввести Password Confirmation
    - Нажать на кнопку Submit
  expected-result: |
    Пользователь успешно зарегистрирован

- summary: |
    Успешная авторизация через электронную почту
  requirement: | 
    Пользователь должен иметь возможность авторизоваться через e-mail
  prerequisites: |
    Пользователь имеет зарегистрированную электронную почту 
  test-data: |
    Нет данных
  steps:
    - Открыть страницу авторизации Sign In
    - Ввести Email, например valmur83@mail.ru
    - Вести Password, например uurwq6Hm@Z.GHBN
    - Нажать на кнопку Submit
  expected-result: |
    Пользователь успешно авторизован
  
- summary: |
    Успешная авторизация через GitHub
  requirement: |
    Пользователь должен иметь возможность авторизоваться через GitHub
  prerequisites: |
    Пользователь зарегистрирован на github.com
  test-data: |
    Нет данных
  steps:
    - Открыть страницу авторизации Sign In
    - Выбрать Sign in with Github
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Успешная авторизация через Discord
  requirement: |
    Пользователь должен иметь возможность авторизоваться через Discord
  prerequisites: |
    Пользователь зарегистрирован в Discord
  test-data: |
    Нет данных
  steps:
    - Открыть страницу авторизации Sign In
    - Выбрать Sign in with Discord
    - Открывается страница разрешения авторизации через Discord
    - Нажать на кнопку "Авторизовать"
  expected-result: |
    Пользователь успешно авторизован

- summary: |
    Проверка неуспешной регистрации с уже сеществующим именем пользователя
  requirement: |
    Пользователь не должен иметь возможность зарегистрироваться с уже зарегистрированным именем пользователя
  prerequisites: |
    Открыта страница регистрации Sign Up
  test-data: |
    Нет данных
  steps:
    - Ввести Nickname, например "Hakuna_Matata23"
    - Ввести Email, например ivanov@mail.ru
    - Вести Password, например 123africa
    - Ввести Password Confirmation
    - Нажать на кнопку Submit
  expected-result: |
    Пользователь видит ошибку "Nickname is already taken" под полем "Nickname"

- summary: |
    Проверка регистрации с некорректным адресом электронной почты
  requirement: |
    Пользователь не может зарегистрироваться с некорректным адресом электронной почты
  prerequisites: |
    Открыта страница регистрации Sign Up
  test-data: |
    Нет данных
  steps:
    - Ввести Nickname, например "Hot_pepper"
    - Ввести Email, например ivanov@maul.ru
    - Вести Password, например fakir01
    - Ввести Password Confirmation
    - Нажать на кнопку Submit
  expected-result: |
    Пользователь видит ошибку "Invalid email"

- summary: |
    Проверка создания игры без регистрации
  requirement: |
    Пользователь должен иметь возможность создать игру без регистрации
  prerequisites: |
    Пользователь находится на главной странице
  test-data: |
    Нет данных
  steps: |
    - Нажать кнопку "TRY SIMPLE BATTLE"
  expected-result: |
    Начнется новая игра

- summary: |
    Создание игры
  requirement: |
    Пользователь должен иметь возможность создать игру
  prerequisites: |
    Пользователь находится в лобби
  test-data: |
    Нет данных
  steps:
    - Нажать кнопку "CREATE A GAME"
    - Выбрать уровень сложности "Level"
    - Выбрать тип игры "Game Type"
    - Выставить длительность игры "Time control"
    - Выбрать задачу по названию или тегам "Choose task by name or tags"
    - Нажать на кнопку "Create battle"
  expected-result: |
    Начнется новая игра

- summary: |
    Проверка на создание игры против бота
  requirement: |
    Пользователь должен иметь возможность создать игру против бота
  prerequisites: |
    Пользователь находится в лобби
  test-data: |
    Нет данных
  steps:
    - Нажать кнопку "CREATE A GAME"
    - Выбрать уровень сложности "Level"
    - Выбрать тип игры "With a bot"
    - Выставить длительность игры "Time control"
    - Выбрать задачу по названию или тегам "Choose task by name or tags"
    - Нажать на кнопку "Create battle"
  expected-result: |
    Начнется новая игра с ботом

- summary: |
    Проверка победы в игре над ботом
  requirement: |
    Пользователь должен иметь возможность победить при указании правильного решения раньше бота
  prerequisites: |
    Пользователь находится в лобби
  test-data: |
    Нет данных
  steps:
    - Нажать кнопку "CREATE A GAME"
    - Выбрать уровень сложности "Level"
    - Выбрать тип игры "With a bot"
    - Выставить длительность игры "Time control"
    - Выбрать задание на игру "rect_area"
    - Нажать на кнопку "Create battle"
    - Выбираем язык NodeJS
    - Решаем задачу с помощью кода
        #const _ = require("lodash");
        #const R = require("rambda");
        #const solution = (width, length) => {return width * length;};
        #module.exports = solution;
    - Нажать на кнопку "Run"
  expected-result: |
    Пользователь получит уведомление о победе, сообщение "Woohoo, you're Champion!!!!!"

- summary: |
    Проверка поражения в игре с ботом
  requirement: |
    Пользователь должен получить уведомление о поражении в игре с ботом
  prerequisites: |
    Пользователь находится в лобби
  test-data: |
    Нет данных
  steps:
    - Нажать кнопку "CREATE A GAME"
    - Выбрать уровень сложности "Level"
    - Выбрать тип игры "With a bot"
    - Выставить длительность игры "Time control"
    - Выбрать задание на игру "rect_area"
    - Нажать на кнопку "Create battle"
    - Ждем когда бот решит задание первым 
  expected-result: |
    Пользователь получит уведомление о поражении
    
- summary: |
    Проверка на создание игры против друга
  requirement: |
    Пользователь должен иметь возможность создать игру против друга
  prerequisites: |
    Пользователь находится в лобби
  test-data: |
    Нет данных
  steps:
    - Нажать кнопку "CREATE A GAME"
    - Выбрать уровень сложности "Level"
    - Выбрать тип игры "With a friend"
    - Выставить длительность игры "Time control"
    - Выбрать оппонента, против которого будем играть
    - Выбрать задачу по названию или тегам "Choose task by name or tags"
    - Нажать на кнопку "Create battle"
  expected-result: |
    Другу отправилось приглашение к игре

- summary: |
    Проверка работы таймера игры
  requirement: |
    Пользователь должен иметь возможность выставлять время игры
  prerequisites: |
    Пользователь находится в лобби
  test-data: |
    Нет данных
  steps:
    - Нажать кнопку "CREATE A GAME"
    - Выбрать уровень сложности "Level"
    - Выбрать тип игры "With a bot"
    - Выставить длительность игры "8 min"
    - Выбрать задачу по названию или тегам "Choose task by name or tags"
    - Нажать на кнопку "Create battle"
  expected-result: |
    Пользователь видит таймер, который начинается с 00:08:00
